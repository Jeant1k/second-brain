# Waiting For Service

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å `waiting` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–∫–æ–º "–û–∂–∏–¥–∞–Ω–∏–µ" (Waiting For) –≤ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ GTD. –ó–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–∞–¥–∞—á–∏ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥–∏–º –ª—é–¥—è–º –∏–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   C++ (C++20)
*   –§—Ä–µ–π–º–≤–æ—Ä–∫ `userver`
*   PostgreSQL (–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö)
*   CMake/Make (–¥–ª—è —Å–±–æ—Ä–∫–∏)

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:

*   **`waiting_tasks`**:
    *   `id` (UUID, PK)
    *   `user_id` (BIGINT)
    *   `title` (TEXT, NOT NULL)
    *   `description` (TEXT, nullable) // –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –æ—Ç –∫–æ–≥–æ/—á–µ–≥–æ –æ–∂–∏–¥–∞–Ω–∏–µ
    *   `created_at` (TIMESTAMP WITH TIME ZONE, NOT NULL)
    *   `updated_at` (TIMESTAMP WITH TIME ZONE, NOT NULL)
    *   `expected_by_date` (TIMESTAMP WITH TIME ZONE, nullable)
    *   `status` (VARCHAR, e.g., 'waiting', 'received', 'completed', 'deleted')
    *   `gtd_list_type` (VARCHAR, const 'waiting')
    *   ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è.

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–º–∏–≥—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `postgresql/`.

## üåê API (–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)

*   `GET /v1/tasks?user_id=<user_id>&limit=<N>&cursor=<cursor>`: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–¥–∞—á.
*   `POST /v1/tasks`: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –æ–∂–∏–¥–∞—é—â—É—é –∑–∞–¥–∞—á—É.
    *   –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON): `{ "user_id": "...", "title": "...", "description": "..." }`
*   `GET /v1/tasks/{task_id}?user_id=<user_id>`: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–¥–∞—á–µ.
*   `PUT /v1/tasks/{task_id}`: –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É.
    *   –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON): `{ "user_id": "...", "title": "..." }`
*   `POST /v1/tasks/{task_id}/complete`: –ü–æ–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é/–ø–æ–ª—É—á–µ–Ω–Ω—É—é.
    *   –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON): `{ "user_id": "..." }`
*   `DELETE /v1/tasks/{task_id}?user_id=<user_id>`: –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É.

## üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–µ—Ä–≤–∏—Å—É `current-actions`. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `Dockerfile` –∏ `Makefile`.
